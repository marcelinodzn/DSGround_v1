<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>DSGround Typography</title><style>body{font-family:Inter,sans-serif;margin:0;padding:20px;color:#333;background-color:#f9f9f9}h1{font-size:18px;margin-bottom:16px;font-weight:600}p{font-size:14px;line-height:1.5;margin-bottom:16px;color:#666}.container{display:flex;flex-direction:column;height:100%}.content{flex:1;overflow-y:auto}.footer{margin-top:20px;display:flex;justify-content:space-between}button{background-color:#18a0fb;color:#fff;border:none;border-radius:6px;padding:8px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}button:hover{background-color:#0d8de3}button.secondary{background-color:#f0f0f0;color:#333}button.secondary:hover{background-color:#e0e0e0}.file-input{display:none}.file-label{display:inline-block;background-color:#f0f0f0;color:#333;border-radius:6px;padding:8px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.file-label:hover{background-color:#e0e0e0}.status{margin-top:16px;padding:12px;border-radius:6px;font-size:14px}.status.success{background-color:#e3f9e5;color:#1b8e24}.status.error{background-color:#ffefef;color:#d82c0d}.preview{margin-top:16px;padding:16px;background-color:#fff;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,.1)}.preview-title{font-size:14px;font-weight:600;margin-bottom:8px}.preview-content{max-height:200px;overflow-y:auto;font-family:monospace;font-size:12px;line-height:1.4;padding:8px;background-color:#f5f5f5;border-radius:4px;white-space:pre-wrap}.test-button{margin-top:16px;background-color:#e0e0e0;color:#333}</style></head><body><div class="container"><div class="content"><h1>Import Typography Styles</h1><p>Import your DSGround typography styles into Figma. This will create text styles for each platform and type style in your system.</p><div><input type="file" id="file-input" class="file-input" accept=".json"> <label for="file-input" class="file-label">Choose JSON File</label> <span id="file-name" style="margin-left:8px;font-size:14px"></span></div><div id="status-container" style="display:none" class="status"><div id="status-message"></div></div><div id="preview-container" style="display:none" class="preview"><div class="preview-title">Preview</div><div id="preview-content" class="preview-content"></div></div><button id="test-button" class="test-button">Use Test Data</button></div><div class="footer"><button id="cancel-button" class="secondary">Cancel</button> <button id="import-button" disabled="disabled">Import Styles</button></div></div><script>const fileInput=document.getElementById("file-input"),fileName=document.getElementById("file-name"),importButton=document.getElementById("import-button"),cancelButton=document.getElementById("cancel-button"),testButton=document.getElementById("test-button"),statusContainer=document.getElementById("status-container"),statusMessage=document.getElementById("status-message"),previewContainer=document.getElementById("preview-container"),previewContent=document.getElementById("preview-content");let typographyData=null;fileInput.addEventListener("change",(t=>{const e=t.target.files[0];if(!e)return;fileName.textContent=e.name;const n=new FileReader;n.onload=t=>{try{const e=JSON.parse(t.target.result);console.log("Parsed JSON data:",e),typographyData=e,importButton.disabled=!1,previewContainer.style.display="block",previewContent.textContent=JSON.stringify(e,null,2),statusContainer.style.display="none"}catch(t){console.error("Error parsing JSON:",t),statusContainer.style.display="block",statusContainer.className="status error",statusMessage.textContent="Invalid JSON file. Please check the format and try again.",importButton.disabled=!0,previewContainer.style.display="none"}},n.readAsText(e)})),testButton.addEventListener("click",(()=>{const t=[{id:"web",name:"Web",scale:{baseSize:16,ratio:1.25,stepsUp:5,stepsDown:2},typeStyles:[{id:"heading-1",name:"Heading 1",scaleStep:"f5",fontFamily:"Inter",fontWeight:700,lineHeight:1.2,lineHeightUnit:"multiplier",letterSpacing:-.02,opticalSize:0},{id:"body",name:"Body",scaleStep:"f0",fontFamily:"Inter",fontWeight:400,lineHeight:1.5,lineHeightUnit:"multiplier",letterSpacing:0,opticalSize:0}]}];console.log("Using test data:",t),typographyData=t,importButton.disabled=!1,previewContainer.style.display="block",previewContent.textContent=JSON.stringify(t,null,2),statusContainer.style.display="none",fileName.textContent="test-data.json (sample)"})),importButton.addEventListener("click",(()=>{typographyData&&(console.log("Sending typography data to plugin:",typographyData),parent.postMessage({pluginMessage:{type:"import-typography",typographyData:typographyData}},"*"),statusContainer.style.display="block",statusContainer.className="status",statusMessage.textContent="Importing typography styles...",importButton.disabled=!0)})),cancelButton.addEventListener("click",(()=>{parent.postMessage({pluginMessage:{type:"close"}},"*")})),window.onmessage=t=>{const e=t.data.pluginMessage;e&&(console.log("Received message from plugin:",e),"import-success"===e.type?(statusContainer.style.display="block",statusContainer.className="status success",statusMessage.textContent="Typography styles imported successfully!",importButton.disabled=!1):"import-error"===e.type&&(statusContainer.style.display="block",statusContainer.className="status error",statusMessage.textContent=`Error: ${e.message}`,importButton.disabled=!1))}</script></body></html>