(()=>{"use strict";({383:function(){var e=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(a,r){function i(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))};function t(e){return e>=700?"Bold":e>=600?"SemiBold":e>=500?"Medium":e>=400?"Regular":e>=300?"Light":"Regular"}function o(e,t){if(!e.scale)return null;const{baseSize:o,ratio:n,stepsUp:a,stepsDown:r}=e.scale,i=t.match(/f(-?\d+)/);if(!i)return null;const s=parseInt(i[1],10);return s>=0?o*Math.pow(n,s):o/Math.pow(n,Math.abs(s))}figma.showUI(__html__,{width:450,height:550}),figma.ui.onmessage=n=>e(void 0,void 0,void 0,(function*(){if("import-typography"===n.type)try{const{typographyData:e}=n;if(console.log("Received typography data:",e),!Array.isArray(e))throw new Error("Typography data is not an array. Please check the JSON format.");for(const n of e){if(console.log("Processing platform:",n),!n||"object"!=typeof n){console.warn("Invalid platform data:",n);continue}if(!n.typeStyles||!Array.isArray(n.typeStyles)||0===n.typeStyles.length){console.warn("No type styles found for platform:",n.name);continue}const e=`${n.name} Typography`;for(const a of n.typeStyles){console.log("Processing style:",a);const r=o(n,a.scaleStep),i=a.fontSize||r||16,s=figma.createTextStyle();s.name=`${e}/${a.name}`,s.description=`Scale step: ${a.scaleStep}`,yield figma.loadFontAsync({family:a.fontFamily||"Inter",style:t(a.fontWeight)}),s.fontName={family:a.fontFamily||"Inter",style:t(a.fontWeight)},s.fontSize=i,a.lineHeightUnit,s.lineHeight={unit:"PERCENT",value:100*a.lineHeight},s.letterSpacing={unit:"PERCENT",value:100*a.letterSpacing},"uppercase"===a.textTransform?s.textCase="UPPER":"lowercase"===a.textTransform?s.textCase="LOWER":"capitalize"===a.textTransform?s.textCase="TITLE":s.textCase="ORIGINAL"}}figma.ui.postMessage({type:"import-success"})}catch(e){console.error("Error in import-typography:",e),figma.ui.postMessage({type:"import-error",message:e instanceof Error?e.message:"An unknown error occurred"})}else"close"===n.type&&figma.closePlugin()}))}})[383]()})();